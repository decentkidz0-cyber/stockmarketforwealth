<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Market Snapshot & Live Index Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg1:#0f2027;
  --bg2:#203a43;
  --bg3:#2c5364;
  --accent:#4fc3f7;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
  color:#fff;
}

/* ===== VISITOR ===== */
.visitor-counter{
  text-align:center;
  padding:12px;
}
.visitor-counter span{
  font-size:20px;
  color:var(--accent);
  font-weight:bold;
}

/* ===== LAYOUT ===== */
.main{
  max-width:1200px;
  margin:auto;
  padding:15px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:18px;
}
@media(max-width:900px){
  .main{grid-template-columns:1fr;}
}

/* ===== FULL WIDTH ===== */
.full{
  max-width:1200px;
  margin:20px auto;
  padding:0 15px;
}

/* ===== CARDS ===== */
.card{
  background:#fff;
  color:#000;
  border-radius:18px;
  padding:18px;
  animation:fadeUp .4s ease;
}

/* ===== ARTICLES ===== */
.article-card{
  background:#f5f5f5;
  padding:14px;
  border-radius:14px;
  margin-bottom:12px;
  cursor:pointer;
  transition:.3s;
}
.article-card:hover{
  background:#e3f2fd;
  transform:scale(1.02);
}

/* ===== FORM ===== */
input,select,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:1px solid #ccc;
}
button{
  background:#1e88e5;
  color:#fff;
  border:none;
  cursor:pointer;
}
button:hover{background:#1565c0}

/* ===== PLANNER ===== */
.planner{aspect-ratio:1/1}

/* ===== RESULT ===== */
.result-box{
  background:#e3f2fd;
  padding:14px;
  border-radius:12px;
}

/* ===== POPUP ===== */
.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.popup.show{display:flex}
.popup-content{
  background:#fff;
  width:95%;
  height:90%;
  border-radius:18px;
  position:relative;
}
.popup iframe{
  width:100%;
  height:100%;
  border:none;
  border-radius:18px;
}
.close-btn{
  position:absolute;
  top:10px;
  right:15px;
  font-size:24px;
  background:none;
  border:none;
  cursor:pointer;
}

.hidden{display:none !important}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1}
}
</style>
</head>

<body>

<div class="visitor-counter">
  Total Visitors: <span id="visitorCount">12345</span>+
</div>

<h1 style="text-align:center">Market Snapshot & Live Dashboard</h1>

<!-- ===== TOP GRID ===== -->
<div class="main">

  <!-- LEFT -->
  <div class="card">
    <h2>Latest Market Articles</h2>
    <div class="article-card" onclick="openArticle('articles/article1.html')">
      Intelligent Investor – Buffett Rules
    </div>
    <div class="article-card" onclick="openArticle('articles/article2.html')">
      Common Stocks & Uncommon Profits
    </div>
    <div class="article-card" onclick="openArticle('articles/article3.html')">
      Berkshire Shareholder Letters
    </div>
  </div>

  <!-- RIGHT -->
  <div class="card planner" id="step1">
    <h2>Plan Your Investment</h2>
    <input id="age" placeholder="Age">
    <input id="income" placeholder="Monthly Income ₹">
    <input id="savings" placeholder="Monthly Investment ₹">
    <select id="risk">
      <option value="">Risk Appetite</option>
      <option value="low">Low</option>
      <option value="medium">Moderate</option>
      <option value="high">High</option>
    </select>
    <button onclick="nextStep()">Continue</button>
  </div>

  <div class="card planner hidden" id="step2">
    <h2>Goal Details</h2>
    <input id="target" placeholder="Target Amount ₹">
    <input id="years" placeholder="Years">
    <input id="return" placeholder="Expected Return %">
    <button onclick="generateReport()">Generate</button>
  </div>

  <div class="card planner hidden" id="result">
    <h2>Investment Strategy</h2>
    <div class="result-box" id="report"></div>
    <button onclick="location.reload()">Restart</button>
  </div>

</div>

<!-- ===== LIVE MARKET BOX (FIXED) ===== -->
<div class="full">
  <div class="card">
    <h2 style="text-align:center">Live Indian & Global Market Updates</h2>

    <!-- INDIA TICKER -->
    <div class="tradingview-widget-container">
      <script type="text/javascript"
        src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
      {
        "symbols": [
          { "proName": "NSE:NIFTY1!", "title": "NIFTY 50" },
          { "proName": "NSE:BANKNIFTY1!", "title": "BANK NIFTY" },
          { "proName": "BSE:SENSEX", "title": "SENSEX" }
        ],
        "showSymbolLogo": true,
        "displayMode": "adaptive",
        "colorTheme": "light",
        "locale": "en"
      }
      </script>
    </div>

    <br>

    <!-- GLOBAL TICKER -->
    <div class="tradingview-widget-container">
      <script type="text/javascript"
        src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
      {
        "symbols": [
          { "proName": "DJ:DJI", "title": "DOW JONES" },
          { "proName": "TVC:US10Y", "title": "US 10Y BOND" },
          { "proName": "FX_IDC:USDINR", "title": "USD / INR" }
        ],
        "showSymbolLogo": true,
        "displayMode": "adaptive",
        "colorTheme": "light",
        "locale": "en"
      }
      </script>
    </div>

  </div>
</div>


<!-- ===== ARTICLE POPUP ===== -->
<div id="articlePopup" class="popup" onclick="closeArticle()">
  <div class="popup-content" onclick="event.stopPropagation()">
    <button class="close-btn" onclick="closeArticle()">✕</button>
    <iframe id="articleFrame"></iframe>
  </div>
</div>

<script>
/* VISITORS */
let count = localStorage.getItem("fakeVisitors") || 12345;
setInterval(()=>{
  count = parseInt(count) + Math.floor(Math.random()*20 + 5);
  visitorCount.innerText = count.toLocaleString();
  localStorage.setItem("fakeVisitors",count);
},3000);

/* ARTICLE */
function openArticle(file){
  articleFrame.src = file;
  articlePopup.classList.add("show");
}
function closeArticle(){
  articlePopup.classList.remove("show");
  articleFrame.src = "";
}

/* FORM */
function nextStep(){
  if(!age.value||!income.value||!savings.value||!risk.value){
    alert("Fill all fields");
    return;
  }
  step1.classList.add("hidden");
  step2.classList.remove("hidden");
}

function generateReport(){
  let t = +target.value;
  let y = +years.value;
  let r = +document.getElementById("return").value/100/12;
  let n = y*12;
  let sip = Math.round(t*r/(Math.pow(1+r,n)-1));

  report.innerHTML = `
    Monthly SIP Required: ₹${sip.toLocaleString()}<br><br>
    Suggested for long-term disciplined investing.<br>
    Market risks apply.
  `;

  step2.classList.add("hidden");
  result.classList.remove("hidden");
}
</script>

<iframe 
  src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTo7pEzJNGuraAKv59dMrodBFqHKpUFYuFxe2f4h4Fx2ewaWmGjrM82SydPFeVgB99P9Bz3Bmsk_NJK/pubhtml?widget=true&amp;headers=false"
  style="width:100%; height:350px; border:none;">
</iframe>


  
</body>
</html>



